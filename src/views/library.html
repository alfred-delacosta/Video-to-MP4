<%- include('./shared/header', {title: "Library"}) -%>

<div class="container">
    <div class="row h-100">
        <% if (emptyLibrary) { %>
            <div class="col-12 mt-3 mb-3">
                <h1>Empty library! <i class="bi bi-emoji-frown"></i></h1>
            </div>
        <% } else { %>
            <% videos.forEach(function (video) { %>
                <div class="col-12 col-sm-4 mt-3">
                    <div class="card border-0 h-100">
                        <div class="container-fluid h-100">
                            <div class="row h-100">
                                <div class="col-12 text-center p-3">
                                    <h3><%= video.name %></h3>
                                </div>
                                <div class="col-12">
                                    <video class="card-img" src="<%= video.location %>#t=0.1" controls="true"></video>
                                </div>
                                <div class="col-12 pb-3">
                                    <div class="d-grid gap-2">
                                        <a href="<%= video.location %>" download class="btn btn-success" data-id="<%= video.id %>">Download <i class="bi bi-cloud-download"></i></a>
                                        <button id="deleteVideoButton" class="btn btn-danger" data-id="<%= video.id %>">Delete <i class="bi bi-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <% }); %>
        <% } %>
    </div>
</div>

<script src="/js/library.js"></script>

<%- include('./shared/footer') -%>